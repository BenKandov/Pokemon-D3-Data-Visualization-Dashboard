<!DOCTYPE html>
<html>

<head>
<title>5x5 Scatter Plot</title>
<script src="https://d3js.org/d3.v3.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>

<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

</head>

<body>



<div class="container-fluid">
  <div class="row">
    <div class="col-md-12 text-center">
      <h1> 5x5 Scatterplot Matrix</h1>
    </div>
  </div>

  <div class="row">
    <div class="col-md-12 text-center">
      <p id="g"></p>
    </div>
  </div>
  
</div>


<footer class="footer">
  <div class="container">
    <div class="row">
      <div class="col-md-3">
        <a href="../MDS_Plot"> Euclidean MDS Plot </a>
      </div>
      <div class="col-md-3">
        <a href="../Parallel_Coordinates"> Parallel Coordinates </a>
      </div>
       <div class="col-md-3">
        <a href=""> 5x5 Scatterplot Matrix  </a>
      </div>
      <div class="col-md-3">
        <a href="../Scatterplot"> Bivariate Scatterplot </a>
      </div>
    </div>
  </div>
 </footer>

</body>



<style>
</style>

<script>

attributes = ['Total','Attack','Defense','Sp. Atk','Sp. Def']

attributes_matrix = [];



//Build up our matrix of relationships 
attributes.forEach( function(a, x){
	attributes.forEach(function(b,y){
		attributes_matrix.push({a:a, b: b, x: x, y: y});
	})
})


var container = d3.select("#g").append("svg").attr("height",500).attr("width",500)


d3.csv("correlation_points.csv", build_matrix);


function build_matrix(data){
		
	//Parse into floats
	data.forEach(function (d){
		attributes.forEach(function(attr){
			d[attr] = parseFloat(d[attr])
		});
	});

	//Let's create scales for each of our little scatterplots
	scale = {};
	attributes.forEach(function(attr){
		scale[attr] = d3.scale.linear();
		attExtent = d3.extent(data, function(d){
			return d[attr];
		});
		scale[attr].domain(attExtent).range([5,95]);
	});

	d3.select("svg")
		.selectAll("g")
		.data(attributes_matrix)
		.enter()
		.append("g")
		.attr("transform", function(d){
			return "translate(" + (d.x * 100) + "," + (d.y * 100) + ")"; 
		});

	d3.selectAll("g")
		.each(function (matrix,i){

			d3.select(this).append("rect")
			.style("fill", "white")
			.style("stroke", "black")
			.style("stroke-width", 1)
			.attr("height",140)
			.attr("width",140);


    		//label
    		d3.select(this).append("text")
    			.attr("x", 50)
    			.style("text-anchor", "middle")
    			.style("font-size","12px")
    			.attr("y", 15)
    			.text(matrix.a + " - " + matrix.b);

    		d3.select(this).selectAll("circle")
    			.data(data)
    			.enter()
    			.append('circle')
    			.attr("r",1)
    			.style("fill", "rgb("+ Math.round(Math.random()*255) +","+ Math.round(Math.random()*255)+ "," +  Math.round(Math.random()*255) +  " )")
    			.attr("cx" , function(d){
    				return scale[matrix.a](d[matrix.a]);
    			})
    			.attr("cy", function(d){
    				return 95 - scale[matrix.b](d[matrix.b]);
    			});

		});

}

</script>

</html>



















